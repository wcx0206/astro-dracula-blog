---
title: 数据库隔离级别
tags:
 - database
date: 2025-02-25 11:11:38
---

数据库隔离级别相关内容 **RU RC RR S**

<!--more-->

### 总结图

![7b42358a3afaafd2a860bcbd0206fa01](/Users/wcx/Library/Containers/com.tencent.qq/Data/Library/Application Support/QQ/nt_qq_e41d706d85674affa686a7b04a2c76ff/nt_data/Pic/2025-02/Ori/7b42358a3afaafd2a860bcbd0206fa01.png)



## 可能出现的问题

### 脏读

- 脏读是指一个事务可以读取另一个事务尚未提交的数据。
- 脏读可能导致读取到不一致的数据，因为读取的数据可能被回滚。

### 不可重复读

- 不可重复读是指在同一个事务中，某行数据的读取结果在**多次读取时可能会不同**。
- 这通常发生在事务读取数据后，另一个事务修改了该数据并提交。

### 幻读

- 幻读是指在同一个事务中，执行相同的查询时，**结果集中的行数可能不同**。
- 这通常发生在事务读取数据后，**另一个事务插入或删除符合查询条件的数据**。





## 隔离级别

### 未提交读（RU）

- **定义**：允许一个事务读取另一个事务尚未提交的数据。
- **特点**：这是最低的隔离级别，可能会导致脏读、不可重复读和幻读等问题。
- **适用场景**：适用于对数据一致性要求极低的场景，如统计查询

### 已提交读（RC）

- **定义**：事务**只能读取其他事务已经提交的数据**。
- **特点**：解决了脏读问题，但仍然**可能出现不可重复读和幻读**。
  - 即使读取的都是其他事务已经提交的数据，但依旧会因为新数据的提交或者插入新数据导致发生上面的两种情况。
- **实现机制**：读已提交隔离级别通过 **MVCC** 实现。**每次查询时，系统会生成一个新的Read View（**快照视图），确保事务只能读取到已经提交的数据版本。
- **适用场景**：适用于对数据一致性有一定要求，但允许不可重复读的场景

### 可重复读（RR）

- **定义**：保证在事务执行期间，**多次读取同一数据时结果一致**。
- **特点**：解决了脏读和不可重复读问题，但可能出现幻读。
- **实现机制**：可重复读隔离级别是MySQL InnoDB的默认隔离级别。它通过MVCC和Read View实现。事务在第一次读取数据时生成一个Read View，**并在整个事务期间使用该视图**，确保多次读取同一数据时结果一致
- **适用场景**：适用于对数据一致性要求较高的场景，如金融系统。

### 可串行化（S）

- **定义**：**要求事务串行执行，避免所有并发问题。**
- **特点**：提供最高的隔离级别，解决了脏读、不可重复读和幻读问题，但性能最低。
- **实现机制**：串行化隔离级别通过严格的锁机制实现，确保事务完全按照顺序执行。在这种隔离级别下，所有读写操作都会加锁，从而避免了并发问题。
- **适用场景**：适用于对数据一致性要求极高的场景，如银行核心系统



